{"ast":null,"code":"export default {\n  data() {\n    return {\n      storages: [{}],\n      newFolderName: \"\"\n    };\n  },\n\n  computed: {\n    pathSegments() {\n      let path = \"/\",\n          isFolder = this.path[this.path.length - 1] === \"/\",\n          segments = this.path.split(\"/\").filter(item => item);\n      segments = segments.map((item, index) => {\n        path += item + (index < segments.length - 1 || isFolder ? \"/\" : \"\");\n        return {\n          name: item,\n          path\n        };\n      });\n      return segments;\n    },\n\n    storageObject() {\n      return this.storages.find(item => item.code == this.storage);\n    }\n\n  },\n  methods: {\n    changeStorage(code) {\n      if (this.storage != code) {\n        this.$emit(\"storage-changed\", code);\n        this.$emit(\"path-changed\", \"\");\n      }\n    },\n\n    changePath(path) {\n      this.$emit(\"path-changed\", path);\n    },\n\n    goUp() {\n      let segments = this.pathSegments,\n          path = segments.length === 1 ? \"/\" : segments[segments.length - 2].path;\n      this.changePath(path);\n    },\n\n    async addFiles(event) {\n      this.$emit(\"add-files\", event.target.files);\n      this.$refs.inputUpload.value = \"\";\n    },\n\n    async mkdir() {\n      this.$emit(\"loading\", true);\n      let url = this.endpoints.mkdir.url.replace(new RegExp(\"{storage}\", \"g\"), this.storage).replace(new RegExp(\"{path}\", \"g\"), this.path + this.newFolderName);\n      let config = {\n        url,\n        method: this.endpoints.mkdir.method || \"post\"\n      };\n      await this.axios.request(config);\n      this.$emit(\"folder-created\", this.newFolderName);\n      this.newFolderPopper = false;\n      this.newFolderName = \"\";\n      this.$emit(\"loading\", false);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmBA,eAAe;EACbA,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE,CACR,EADQ,CADL;MAILC,aAAa,EAAE;IAJV,CAAP;EAMD,CARY;;EASbC,QAAQ,EAAE;IACRC,YAAY,GAAG;MACb,IAAIC,IAAG,GAAI,GAAX;MAAA,IACEC,QAAO,GAAI,KAAKD,IAAL,CAAU,KAAKA,IAAL,CAAUE,MAAV,GAAmB,CAA7B,MAAoC,GADjD;MAAA,IAEEC,QAAO,GAAI,KAAKH,IAAL,CAAUI,KAAV,CAAgB,GAAhB,EAAqBC,MAArB,CAA4BC,IAAG,IAAKA,IAApC,CAFb;MAGAH,QAAO,GAAIA,QAAQ,CAACI,GAAT,CAAa,CAACD,IAAD,EAAOE,KAAP,KAAiB;QACvCR,IAAG,IACDM,IAAG,IAAKE,KAAI,GAAIL,QAAQ,CAACD,MAAT,GAAkB,CAA1B,IAA+BD,QAA/B,GAA0C,GAA1C,GAAgD,EAArD,CADL;QAEA,OAAO;UACLQ,IAAI,EAAEH,IADD;UAELN;QAFK,CAAP;MAID,CAPU,CAAX;MAQA,OAAOG,QAAP;IACD,CAdO;;IAeRO,aAAa,GAAG;MACd,OAAO,KAAKd,QAAL,CAAce,IAAd,CAAmBL,IAAG,IAAKA,IAAI,CAACM,IAAL,IAAa,KAAKC,OAA7C,CAAP;IACF;;EAjBQ,CATG;EA4BbC,OAAO,EAAE;IACPC,aAAa,CAACH,IAAD,EAAO;MAClB,IAAI,KAAKC,OAAL,IAAgBD,IAApB,EAA0B;QACxB,KAAKI,KAAL,CAAW,iBAAX,EAA8BJ,IAA9B;QACA,KAAKI,KAAL,CAAW,cAAX,EAA2B,EAA3B;MACF;IACD,CANM;;IAOPC,UAAU,CAACjB,IAAD,EAAO;MACf,KAAKgB,KAAL,CAAW,cAAX,EAA2BhB,IAA3B;IACD,CATM;;IAUPkB,IAAI,GAAG;MACL,IAAIf,QAAO,GAAI,KAAKJ,YAApB;MAAA,IACEC,IAAG,GACDG,QAAQ,CAACD,MAAT,KAAoB,CAApB,GACI,GADJ,GAEIC,QAAQ,CAACA,QAAQ,CAACD,MAAT,GAAkB,CAAnB,CAAR,CAA8BF,IAJtC;MAKA,KAAKiB,UAAL,CAAgBjB,IAAhB;IACD,CAjBM;;IAkBP,MAAMmB,QAAN,CAAeC,KAAf,EAAsB;MACpB,KAAKJ,KAAL,CAAW,WAAX,EAAwBI,KAAK,CAACC,MAAN,CAAaC,KAArC;MACA,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,KAAvB,GAA+B,EAA/B;IACD,CArBM;;IAsBP,MAAMC,KAAN,GAAc;MACZ,KAAKV,KAAL,CAAW,SAAX,EAAsB,IAAtB;MACA,IAAIW,GAAE,GAAI,KAAKC,SAAL,CAAeF,KAAf,CAAqBC,GAArB,CACPE,OADO,CACC,IAAIC,MAAJ,CAAW,WAAX,EAAwB,GAAxB,CADD,EAC+B,KAAKjB,OADpC,EAEPgB,OAFO,CAEC,IAAIC,MAAJ,CAAW,QAAX,EAAqB,GAArB,CAFD,EAE4B,KAAK9B,IAAL,GAAY,KAAKH,aAF7C,CAAV;MAGA,IAAIkC,MAAK,GAAI;QACXJ,GADW;QAEXK,MAAM,EAAE,KAAKJ,SAAL,CAAeF,KAAf,CAAqBM,MAArB,IAA+B;MAF5B,CAAb;MAIA,MAAM,KAAKC,KAAL,CAAWC,OAAX,CAAmBH,MAAnB,CAAN;MACA,KAAKf,KAAL,CAAW,gBAAX,EAA6B,KAAKnB,aAAlC;MACA,KAAKsC,eAAL,GAAuB,KAAvB;MACA,KAAKtC,aAAL,GAAqB,EAArB;MACA,KAAKmB,KAAL,CAAW,SAAX,EAAsB,KAAtB;IACF;;EApCO;AA5BI,CAAf","names":["data","storages","newFolderName","computed","pathSegments","path","isFolder","length","segments","split","filter","item","map","index","name","storageObject","find","code","storage","methods","changeStorage","$emit","changePath","goUp","addFiles","event","target","files","$refs","inputUpload","value","mkdir","url","endpoints","replace","RegExp","config","method","axios","request","newFolderPopper"],"sourceRoot":"","sources":["/Users/m67abyari/Projects/Front-Pract/Vue-prac/vuti-vue/src/App.vue"],"sourcesContent":["<template>\n  <v-menu offset-y >\n    <template >\n      <v-btn icon class=\"storage-select-button mr-3\" v-on=\"on\">\n        <v-icon>mdi-arrow-down-drop-circle-outline</v-icon>\n      </v-btn>\n    </template>\n    <v-list class=\"storage-select-list\">\n      <v-list-item v-for=\"(item, index) in storages\" :key=\"index\">\n        <v-list-item-icon>\n          <v-icon></v-icon>\n        </v-list-item-icon>\n        <v-list-item-title>{{ item.name }}</v-list-item-title>\n      </v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      storages: [\n        {}\n      ],\n      newFolderName: \"\"\n    };\n  },\n  computed: {\n    pathSegments() {\n      let path = \"/\",\n        isFolder = this.path[this.path.length - 1] === \"/\",\n        segments = this.path.split(\"/\").filter(item => item);\n      segments = segments.map((item, index) => {\n        path +=\n          item + (index < segments.length - 1 || isFolder ? \"/\" : \"\");\n        return {\n          name: item,\n          path\n        };\n      });\n      return segments;\n    },\n    storageObject() {\n      return this.storages.find(item => item.code == this.storage);\n    }\n  },\n  methods: {\n    changeStorage(code) {\n      if (this.storage != code) {\n        this.$emit(\"storage-changed\", code);\n        this.$emit(\"path-changed\", \"\");\n      }\n    },\n    changePath(path) {\n      this.$emit(\"path-changed\", path);\n    },\n    goUp() {\n      let segments = this.pathSegments,\n        path =\n          segments.length === 1\n            ? \"/\"\n            : segments[segments.length - 2].path;\n      this.changePath(path);\n    },\n    async addFiles(event) {\n      this.$emit(\"add-files\", event.target.files);\n      this.$refs.inputUpload.value = \"\";\n    },\n    async mkdir() {\n      this.$emit(\"loading\", true);\n      let url = this.endpoints.mkdir.url\n        .replace(new RegExp(\"{storage}\", \"g\"), this.storage)\n        .replace(new RegExp(\"{path}\", \"g\"), this.path + this.newFolderName);\n      let config = {\n        url,\n        method: this.endpoints.mkdir.method || \"post\"\n      };\n      await this.axios.request(config);\n      this.$emit(\"folder-created\", this.newFolderName);\n      this.newFolderPopper = false;\n      this.newFolderName = \"\";\n      this.$emit(\"loading\", false);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/* Storage Menu - alternate appearance\n.storage-select-button ::v-deep .v-btn__content {\n    flex-wrap: wrap;\n    font-size: 11px;\n    .v-icon {\n        width: 100%;\n        font-size: 22px;\n    }\n}\n*/\n.storage-select-list .v-list-item--disabled {\n  background-color: rgba(0, 0, 0, 0.25);\n  color: #fff;\n\n  .v-icon {\n    color: #fff;\n  }\n}\n</style>\nÂ© 2022 GitHub, Inc.\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact GitHub\nPricing\nAPI\nTraining\nBlog\nAbout\nLoading complete"]},"metadata":{},"sourceType":"module"}